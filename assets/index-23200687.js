var j=Object.defineProperty;var F=(a,s,t)=>s in a?j(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;var h=(a,s,t)=>(F(a,typeof s!="symbol"?s+"":s,t),t),L=(a,s,t)=>{if(!s.has(a))throw TypeError("Cannot "+t)};var n=(a,s,t)=>(L(a,s,"read from private field"),t?t.call(a):s.get(a)),g=(a,s,t)=>{if(s.has(a))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(a):s.set(a,t)},u=(a,s,t,i)=>(L(a,s,"write to private field"),i?i.call(a,t):s.set(a,t),t),E=(a,s,t,i)=>({set _(e){u(a,s,e,t)},get _(){return n(a,s,i)}});(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const N={personagem:"./src/assets/images/char.png",charDown:"./src/assets/images/charDown.png",charUp:"./src/assets/images/charUp.png",charLeft:"./src/assets/images/charLeft.png",charRight:"./src/assets/images/charRight.png",mainMap:"./src/assets/images/map.png",mapForeground:"./src/assets/images/map_foreground.png",mobScreenDamage:"./src/assets/images/bugScreenDamage.png",mob:"./src/assets/images/bugScreen.png",mobExplosion:"./src/assets/images/bugExplosion.png"};var f;class q{constructor(){g(this,f,[]);h(this,"canvas");h(this,"position",{x:0,y:0});h(this,"ctx");h(this,"limit",{left:.2,right:.9,up:.1,down:.9});h(this,"map");h(this,"getEdge",s=>{if(!s)return 0;const t=s=="left"||s==="right"?"x":"y",i=s=="left"||s==="right"?"width":"height";return this.position[t]+this.canvas[i]*this.limit[s]});const s=document.createElement("canvas");this.canvas=s,this.ctx=this.canvas.getContext("2d"),this.resizeListener(),this.initialize()}get height(){return this.canvas.height}get width(){return this.canvas.width}initialize(){const{width:s,height:t}=document.body.getBoundingClientRect();this.canvas.width=s,this.canvas.height=t,document.body.appendChild(this.canvas)}addMap(s){this.addSprite(s),this.map=s}clearSprites(){u(this,f,[])}addSprite(s){u(this,f,[...n(this,f),s])}removeSprite(s){n(this,f).filter(t=>JSON.stringify(t)===JSON.stringify(s))}resizeListener(){window.addEventListener("resize",()=>{this.initialize()})}centerCamera(s){this.position={x:(s.width-this.canvas.width)/2,y:(s.height-this.canvas.height)/2}}render(){if(!this.ctx)return;const{x:s,y:t}=this.position;this.ctx.save(),this.ctx.translate(-s,-t),this.ctx.fillStyle="#222",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),n(this,f).forEach(i=>i.draw(this.ctx,this.canvas)),this.ctx.restore()}}f=new WeakMap;class I{constructor({position:s,velocity:t,image:i,frames:e={max:1},sprites:o,sounds:r}){h(this,"position");h(this,"velocity");h(this,"image");h(this,"frames");h(this,"moving",!1);h(this,"sprites");h(this,"height");h(this,"width");h(this,"sounds");this.position=s,this.velocity=t,this.image=i,this.frames={...e,val:0,elapsed:0},this.sprites=o,this.height=i.height,this.width=i.width/this.frames.max,this.sounds=r}draw(s){s.drawImage(this.image,(this.frames.val||0)*this.width,0,this.image.width/this.frames.max,this.image.height,this.position.x-this.image.width/this.frames.max,this.position.y-this.image.height/this.frames.max,this.image.width/this.frames.max,this.image.height),this.frames.max>1&&this.frames.elapsed!==void 0&&this.frames.elapsed++,(this.frames.elapsed??0)%10===0&&(this.frames.val!==void 0&&this.frames.val<this.frames.max-1?this.frames.val++:this.frames.val=0)}}class D{constructor(s,t,i){h(this,"movement",{left:!1,right:!1,up:!1,down:!1});h(this,"speed",3);h(this,"lastMovement",null);h(this,"isMoving",!1);h(this,"stepsMap",{left:this.speed*-1,right:this.speed,up:this.speed*-1,down:this.speed});this.char=s,this.canvas=t,this.colision=i,this.keyBinding()}getParsedKey(s,t){return s.includes("Arrow")?s.toLowerCase().replace("arrow",""):t[s]}verifyScreenLimit(s,t,i,e){var o;t.position[s]<0&&(t.position={...t.position,[s]:0}),t.position[s]+t[i]>((e==null?void 0:e[i])??0)&&(t.position={...t.position,[s]:(((o=this.canvas.map)==null?void 0:o[i])??0)-this.canvas[i]})}updateCamera(s,t,i,e){if(!e)return;const o=e==="left"||e==="right"?"width":"height",r=e==="right"||e==="down"?t.position[i]+t[o]:t.position[i];this.canvas.position={...s,[i]:r-this.canvas[o]*this.canvas.limit[e]},this.verifyScreenLimit(i,this.canvas,o,this.canvas.map)}updateChar(s,t,i){var l,m,d;if(this.char.image=this.char.sprites[i],(l=this.colision)!=null&&l.verifyCollide({position:{...this.char.position,[t]:this.char.position[t]+this.stepsMap[this.lastMovement]},height:this.char.height,width:this.char.width},t,this.stepsMap[this.lastMovement]))return;const e=s[t]+this.stepsMap[i],o=((m=this.canvas.map)==null?void 0:m.width)??0,r=((d=this.canvas.map)==null?void 0:d.height)??0;if(t==="x"&&e<this.char.width){this.char.position={...s,x:this.char.width};return}if(t==="x"&&e>o){this.char.position={...s,x:o};return}if(t==="y"&&e<0){this.char.position={...s,y:0};return}if(t==="y"&&e>r){this.char.position={...s,y:r};return}this.char.position={...s,[t]:e}}charMovement(){const s=this.lastMovement==="right"||this.lastMovement=="left"?"x":"y";this.isMoving=!0;const t=()=>{if(!this.isMoving)return;window.requestAnimationFrame(t);const i=this.canvas.position;if(this.updateChar(this.char.position,s,this.lastMovement),this.char.position.x<this.canvas.getEdge("left")&&this.lastMovement==="left"){this.updateCamera(i,this.char,"x","left");return}if(this.char.position.x+this.char.width>this.canvas.getEdge("right")&&this.lastMovement==="right"){this.updateCamera(i,this.char,"x","right");return}if(this.char.position.y<this.canvas.getEdge("up")&&this.lastMovement==="up"){this.updateCamera(i,this.char,"y","up");return}if(this.char.position.y+this.char.height>this.canvas.getEdge("down")&&this.lastMovement==="down"){this.updateCamera(i,this.char,"y","down");return}};t()}keyBinding(){const s={a:"left",s:"down",d:"right",w:"up"};document.addEventListener("keydown",t=>{const i=this.getParsedKey(t.key,s);Object.keys(this.movement).includes(i)&&(this.movement={...this.movement,[i]:!0},i!==this.lastMovement&&(this.lastMovement=i,this.charMovement()))}),document.addEventListener("keyup",t=>{const i=this.getParsedKey(t.key,s);this.movement[i]=!1,this.char.image=this.char.sprites.initial,this.lastMovement=null,this.isMoving=!1})}}var y,v,x;class O{constructor(s){g(this,y,0);g(this,v,0);g(this,x,{});this.onLoad=s}set progress(s){u(this,y,s)}get progress(){return n(this,y)}get images(){return n(this,x)}updateProgress(s){var t;this.progress=100/s*n(this,v),this.progress===100&&((t=this.onLoad)==null||t.call(this))}async loadAssets(s){const t=Object.entries(s);t.forEach(([i,e])=>{const o=new Image;o.addEventListener("load",()=>{E(this,v)._++,n(this,x)[i]=o,this.updateProgress(t.length)}),o.src=e})}}y=new WeakMap,v=new WeakMap,x=new WeakMap;class A{constructor({position:s,image:t}){h(this,"position");h(this,"image");h(this,"height");h(this,"width");this.image=t,this.position=s,this.height=t.height,this.width=t.width}draw(s){s.drawImage(this.image,0,0,this.width,this.height)}}class T{constructor(s,t,i){h(this,"width",0);h(this,"height",0);h(this,"loadBarImages");h(this,"position",{x:0,y:0});h(this,"completed",!1);this.onEnd=t,this.gameAssets=i,this.loadAssets(s)}loadAssets(s){const t=new O(()=>{this.loadBarImages=t.images,s()});t.loadAssets({empty:"./src/assets/images/loadbar-empty.png",full:"./src/assets/images/loadbar-full.png"})}draw(s,t){var l,m;if(this.completed||!((l=this.loadBarImages)!=null&&l.empty)||!((m=this.loadBarImages)!=null&&m.full))return;this.position={x:t.width/2,y:t.height/2};const{empty:i,full:e}=this.loadBarImages,{x:o,y:r}=this.position;s.fillStyle="#222",s.fillRect(0,0,t.width,t.height),s.drawImage(i,o-i.width/2,r-i.height/2),s.drawImage(e,0,0,i.width/100*this.gameAssets.progress,i.height,o-i.width/2,r-i.height/2,i.width/100*this.gameAssets.progress,i.height),this.gameAssets.progress===100&&(this.completed=!0,setTimeout(this.onEnd,500))}}const U=(a,s)=>{const t=a.x-s.x,i=a.y-s.y;return Math.sqrt(i*i+t*t)};var p,w;class G extends I{constructor(t,i,e){super(t);g(this,p,"left");g(this,w,0);h(this,"maxMovement",3);h(this,"attackRange",48*3);h(this,"damage",10);h(this,"stirred",0);h(this,"killed",!1);h(this,"deleted",!1);this.collisions=i,this.char=e}verifyAttack(t){var i,e,o;this.killed||(t<=this.attackRange?(this.image=this.sprites.stirred,this.stirred===0&&((e=(i=this.sounds)==null?void 0:i.stirred)==null||e.play()),this.stirred===20&&(this.sounds.stirred.pause(),this.sounds.killed.volume=.005,this.sounds.killed.play(),this.stirred=0,this.killed=!0,this.image=this.sprites.killed,this.frames.val=0),this.stirred++):(this.image=this.sprites.initial,this.stirred=0,this.sounds.stirred.pause(),(o=this.sounds)!=null&&o.stirred&&(this.sounds.stirred.currentTime=0)))}draw(t){var o,r,l,m;if(this.deleted)return;if(t.drawImage(this.image,(this.frames.val||0)*this.width,0,this.image.width/this.frames.max,this.image.height,this.position.x-this.image.width/this.frames.max,this.position.y-this.image.height/this.frames.max,this.image.width/this.frames.max,this.image.height),this.frames.max>1&&this.frames.elapsed!==void 0&&this.frames.elapsed++,(this.frames.elapsed??0)%10===0){this.frames.val!==void 0&&this.frames.val<this.frames.max-1?this.frames.val++:this.frames.val=0;const d=U(this.position,this.char.position);if((o=this.sounds)!=null&&o.steps&&!this.killed&&this.frames.val===4){const c=(1-d/960)*.2;this.sounds.steps.volume=c>0?c:0,(m=(l=(r=this.sounds)==null?void 0:r.steps)==null?void 0:l.play)==null||m.call(l),this.sounds.steps.onended=()=>this.sounds.steps.currentTime=0}this.killed&&this.frames.val===0&&(this.deleted=!0),this.verifyAttack(d),this.frames.elapsed=0}const i={left:-3,right:3,up:-3,down:3},e=n(this,p)=="left"||n(this,p)==="right"?"x":"y";if(n(this,w)===100){u(this,w,0);const d=Object.keys(i),c=d[d.length*Math.random()<<0];u(this,p,c)}n(this,w)%2===0&&!this.collisions.verifyCollide({position:{...this.position,[e]:this.position[e]+i[n(this,p)]},height:this.height,width:this.width},e,i[n(this,p)])&&(this.position[e]=this.position[e]+i[n(this,p)]),E(this,w)._++}}p=new WeakMap,w=new WeakMap;class J{constructor({position:s,width:t,height:i}){h(this,"width",48);h(this,"height",48);h(this,"position");this.width=t??48,this.height=i??48,this.position=s}draw(s){s.fillStyle="rgba(255,0,0,0)",s.fillRect(this.position.x,this.position.y,this.width,this.height)}}class _{constructor({height:s,width:t},i){h(this,"width");h(this,"height");h(this,"boundaries",[]);this.collisionsMap=i,this.height=s,this.width=t,this.mapCollisions()}rectangularCollision({rectangle1:s,rectangle2:t}){return s.position.x+s.width>=t.position.x&&s.position.x<=t.position.x+t.width&&s.position.y<=t.position.y+t.height-30&&s.position.y+s.height>=t.position.y}mapCollisions(){const s=[];for(let t=0;t<this.collisionsMap.length;t+=70)s.push(this.collisionsMap.slice(t,70+t));s.forEach((t,i)=>{t.forEach((e,o)=>{e===183&&this.boundaries.push(new J({position:{x:o*48,y:i*48}}))})})}draw(s){this.boundaries.forEach(t=>{t.draw(s)})}verifyCollide(s,t,i){return this.boundaries.some(e=>this.rectangularCollision({rectangle1:{...s,height:s.height-20,position:{x:s.position.x-s.width,y:s.position.y}},rectangle2:{...e,[t]:e.position[t]+i-100}}))}}const H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,183,183,0,183,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,183,183,0,183,183,0,0,0,0,0,0,0,0,0,0,0,52,0,0,0,0,183,183,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,183,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,66,70,84,0,0,183,183,0,0,183,183,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,52,0,0,0,0,0,183,183,183,183,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,183,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,183,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,183,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,183,183,0,0,0,0,0,0,0,0,0,0,0,183,183,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,183,183,0,0,0,0,183,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,183,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,183,183,0,0,0,0,0,0,0,0,0,0,0,183,183,183,183,183,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,183,183,0,183,183,183,183,183,0,0,0,183,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,183,183,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,183,183,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,183,0,0,183,0,0,0,0,0,0,183,183,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,183,183,0,0,183,183,0,0,183,183,183,183,183,183,183,183,183,0,0,183,183,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,183,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,183,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,183,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var M;class W{constructor(s){g(this,M,{});Object.entries(s).forEach(([t,i])=>{const e=document.createElement("audio");e.src=i,e.preload="auto",e.volume=.02,n(this,M)[t]=e})}get playlist(){return n(this,M)}}M=new WeakMap;const Q={theme:"./src/assets/sounds/going-different-ways.mp3",theme2:"./src/assets/sounds/country_village.mp3",mobSteps:"./src/assets/sounds/mob-steps.mp3",stirred:"./src/assets/sounds/machine-error-by-prettysleepy-art.mp3",error:"./src/assets/sounds/windows-error.wav"};document.addEventListener("DOMContentLoaded",async()=>{const a=new O,s=new W(Q),t=new q,i=new T(()=>{setTimeout(async()=>{a.loadAssets(N)},1e3)},()=>{s.playlist.theme2.volume=.05,s.playlist.theme2.loop=!0,s.playlist.theme2.play(),t.clearSprites();const{charLeft:o,charRight:r,charUp:l,charDown:m,personagem:d,mainMap:c,mob:b,mapForeground:R,mobScreenDamage:B,mobExplosion:P}=a.images,S=new _({height:c.height,width:c.width},H),C=new I({position:{x:c.width/2,y:c.height/2-50},velocity:0,image:d,frames:{max:4},sprites:{initial:d,left:o,right:r,up:l,down:m,attack:d,damage:d},sounds:{}}),z=new G({position:{x:c.width/2,y:c.height/2-48*7},velocity:0,image:b,frames:{max:6},sprites:{initial:b,stirred:B,attack:b,damage:b,killed:P},sounds:{steps:s.playlist.mobSteps,stirred:s.playlist.stirred,killed:s.playlist.error}},S,C),k=new A({position:{x:t.width/2,y:t.height/2},image:c}),K=new A({position:{x:t.width/2,y:t.height/2},image:R});new D(C,t,S),t.addMap(k),t.addSprite(C),t.addSprite(z),t.addSprite(S),t.addSprite(K),t.centerCamera(k)},a);t.addSprite(i);const e=()=>{window.requestAnimationFrame(e),t.render()};e()});
